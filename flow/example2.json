{
    "$schema": "../schema/flow-schema.json",
    "info": {
        "name": "Example Two"
    },
    "nodes": [
        {
            "id": "TestWebHook",
            "node": "httpRequest",
            "type": "start",
            "config": {
                "method": "GET",
                "path": "/otp/two/:id"
            },
            "next": "ShowStart"
        },
        {
            "id": "ShowStart",
            "node": "messageNode",
            "type": "action",
            "message": "Test Json flow",
            "next": "NextStep"
        },
        {
            "id": "NextStep",
            "node": "messageNode",
            "type": "action",
            "message": "Second Action",
            "next": "IfIdExist"
        },
        {
            "id": "IfIdExist",
            "node": "ifNode",
            "type": "condition",
            "config": {
                "ctxEvalFunc": "ctx.pathParams.id === '1' ? 'RespondSuccess' : 'RespondError'",
                "nextNodes": [
                    "RespondSuccess",
                    "RespondError"
                ]
            }
        },
        {
            "id": "RespondSuccess",
            "node": "jsonHttpResponse",
            "type": "action",
            "config": {
                "httpStatus": 201,
                "json": {
                    "ref": "ADDBB",
                    "session": "otptwo"
                }
            }
        },
                {
            "id": "RespondError",
            "node": "jsonHttpResponse",
            "type": "action",
            "config": {
                "httpStatus": 400,
                "json": {
                    "code": "BANNED_ID"
                }
            }
        }
    ]
}